{"entries":[{"timestamp":1749765382584,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"http"],[-1,"s"],[0,"://"],[-1,"developers.google.com/blockly/xml\"><variables><variable id=\"m(%LSXPr?/EvB^prujO/\">ejeY</variable><variable id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</variable><variable id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</variable><variable id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"makerbit_lcd_set_address\"><comment pinned=\"false\" h=\"80\" w=\"160\">Conexión del LCD</comment><value name=\"i2cAddress\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"127\" precision=\"0\"></mutation><field name=\"SLIDER\">39</field></shadow></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Posición inicial de los servos\nGrúa (sube/baja)</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P0</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field></block></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Rotación</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"541\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer eje Y del joystick</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P3</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- CONTROL GRÚA (EJE Y DEL JOYSTICK) ---</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">700</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">800</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zona muerta → mantener posición media</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"function_call_output\"><mutation name=\"mapJoystickToServo\" functionid=\"9]o*tgElWA3kLQfz@|6V\"><arg name=\"value\" id=\"md7at91pdqaviufxeewji\" type=\"number\"></arg></mutation><value name=\"md7at91pdqaviufxeewji\"><shadow type=\"math_number\"><field name=\"NUM\">1</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value></block></next></block></statement><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de la grúa</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P0</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer potenciómetro</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P2</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field><comment pinned=\"false\" h=\"80\" w=\"160\">--- CONTROL ROTACIÓN (POTENCIÓMETRO) ---</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1023</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de rotación</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion</field></block></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mostrar en LCD</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">JoyY:</field></shadow></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos1</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos6</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Pot:</field></shadow></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos17</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</field></block></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos22</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"device_pause\"><comment pinned=\"false\" h=\"80\" w=\"160\">Pequeño delay para suavizar lectura</comment><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"function_definition\" x=\"1649\" y=\"20\"><mutation name=\"mapJoystickToServo\" functionid=\"9]o*tgElWA3kLQfz@|6V\"><arg name=\"value\" id=\"md7at91pdqaviufxeewji\" type=\"number\"></arg></mutation><field name=\"function_name\">mapJoystickToServo</field><comment pinned=\"false\" h=\"80\" w=\"160\">Rotación\nFunción para mapear con sensibilidad ajustada</comment><value name=\"md7at91pdqaviufxeewji\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">value</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">value</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1023</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value></block></statement></block>"],[1,"www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n"],[0,"</xm"]],"start1":12,"start2":12,"length1":12264,"length2":113}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"// Rotación\n// Función para mapear con sensibilidad ajustada\nfunction mapJoystickToServo (value: number) {\n    return Math.map(value, 0, 1023, 0, 180)\n}\nlet valorPot = 0\nlet ejeY = 0\nlet anguloGrúa = 90\nlet anguloRotacion = 90\n// Conexión del LCD\nmakerbit.connectLcd(39)\n// Posición inicial de los servos\n// Grúa (sube/baja)\npins.servoWritePin(AnalogPin.P0, anguloGrúa)\n// Rotación\npins.servoWritePin(AnalogPin.P1, anguloRotacion)\nbasic.forever(function () {\n    // Leer eje Y del joystick\n    ejeY = pins.analogReadPin(AnalogPin.P3)\n    // --- CONTROL GRÚA (EJE Y DEL JOYSTICK) ---\n    if (ejeY > 700 && ejeY < 800) {\n        // Zona muerta → mantener posición media\n        anguloGrúa = 90\n    } else {\n        anguloGrúa = mapJoystickToServo(ejeY)\n        anguloGrúa = Math.constrain(anguloGrúa, 0, 180)\n    }\n    // Enviar al servo de la grúa\n    pins.servoWritePin(AnalogPin.P0, anguloGrúa)\n    // Leer potenciómetro\n    valorPot = pins.analogReadPin(AnalogPin.P2)\n    // --- CONTROL ROTACIÓN (POTENCIÓMETRO) ---\n    anguloRotacion = Math.map(valorPot, 0, 1023, 0, 180)\n    anguloRotacion = Math.constrain(anguloRotacion, 0, 180)\n    // Enviar al servo de rotación\n    pins.servoWritePin(AnalogPin.P1, anguloRotacion)\n    // Mostrar en LCD\n    makerbit.showStringOnLcd1602(\"JoyY:\", makerbit.position1602(LcdPosition1602.Pos1), 16)\n    makerbit.showStringOnLcd1602(\"\" + (ejeY), makerbit.position1602(LcdPosition1602.Pos6), 16)\n    makerbit.showStringOnLcd1602(\"Pot:\", makerbit.position1602(LcdPosition1602.Pos17), 16)\n    makerbit.showStringOnLcd1602(\"\" + (valorPot), makerbit.position1602(LcdPosition1602.Pos22), 16)\n    // Pequeño delay para suavizar lectura\n    basic.pause(100)\n})"],[0,"\n"]],"start1":0,"start2":0,"length1":1689,"length2":1}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," \"*\""],[-1,",\n        \"MakerBit-LCD1602\": \"github:1010technologies/pxt-makerbit-lcd1602#v1.8.11\""],[0,"\n"],[1,""],[0,"    "]],"start1":146,"start2":146,"length1":93,"length2":9},{"diffs":[[0,"   \""],[-1,"preferredEditor\": \"blocksprj\""],[1,"additionalFilePaths\": []"],[0,"\n}\n"]],"start1":243,"start2":243,"length1":36,"length2":31}]}]},{"timestamp":1749765576841,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"t"],[1,"block"],[0,"sprj\"\n}\n"]],"start1":342,"start2":342,"length1":17,"length2":21}]}]},{"timestamp":1749766281154,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let ejeY = 0\nlet valorPot"],[1,"// Rotación\n// Función para mapear con sensibilidad ajustada\nfunction mapJoystickToServo (value: number) {\n    return Math.map(value, 0, 1023, 0, 180)\n}\nlet valorPot = 0\nlet ejeY"],[0," = 0"]],"start1":0,"start2":0,"length1":29,"length2":182},{"diffs":[[0,"on = 90\n"],[1,"// Conexión del LCD"],[0,"\nmakerbi"]],"start1":219,"start2":219,"length1":16,"length2":35},{"diffs":[[0,"Lcd(39)\n"],[-1,"\n"],[0,"// Posic"]],"start1":263,"start2":263,"length1":17,"length2":16},{"diffs":[[0," servos\n"],[1,"// Grúa (sube/baja)\n"],[0,"pins.ser"]],"start1":297,"start2":297,"length1":16,"length2":36},{"diffs":[[0,"rúa)"],[-1,"      // Grúa (sube/baja)"],[1,"\n// Rotación"],[0,"\npin"]],"start1":365,"start2":365,"length1":33,"length2":20},{"diffs":[[0,"ion)"],[-1,"  // Rotación\n"],[0,"\nbas"]],"start1":426,"start2":426,"length1":22,"length2":8},{"diffs":[[0,"eer "],[-1,"potenciómetro (P2) e invertir\n    valorPot = pins.analogReadPin(AnalogPin.P2)\n    valorPot = Math.constrain(valorPot, 0, 1023)\n    anguloRotacion = Math.map(valorPot, 0, 1023, 180, 0)\n    anguloRotacion = Math.constrain(anguloRotacion, 0, 180)\n    pins.servoWritePin(AnalogPin.P1, anguloRotacion)\n\n    // Leer joystick eje Y (P3)"],[1,"eje Y del joystick"],[0,"\n   "]],"start1":467,"start2":467,"length1":337,"length2":26},{"diffs":[[0,"P3)\n"],[-1,"\n"],[0,"    // "],[-1,"Limitar el rango efectivo del joystick (400–850)\n    if (ejeY > 700 && ejeY < 800) {\n        anguloGrúa = 90  // Zona muerta central\n    } else {\n        let ejeFiltrado = Math.constrain(ejeY, 400, 850)\n        anguloGrúa = Math.map(ejeFiltrado, 400, 850, 0, 180"],[1,"--- CONTROL GRÚA (EJE Y DEL JOYSTICK) ---\n    if (ejeY > 700 && ejeY < 800) {\n        // Zona muerta → mantener posición media\n        anguloGrúa = 90\n    } else {\n        anguloGrúa = mapJoystickToServo(ejeY"],[0,")\n  "]],"start1":530,"start2":530,"length1":278,"length2":223},{"diffs":[[0,")\n    }\n"],[1,"    // Enviar al servo de la grúa"],[0,"\n    pin"]],"start1":805,"start2":805,"length1":16,"length2":49},{"diffs":[[0,"úa)\n"],[-1,"\n    // Mostrar en pantalla"],[1,"    // Leer potenciómetro\n    valorPot = pins.analogReadPin(AnalogPin.P2)\n    // --- CONTROL ROTACIÓN (POTENCIÓMETRO) ---\n    anguloRotacion = Math.map(valorPot, 0, 1023, 0, 180)\n    anguloRotacion = Math.constrain(anguloRotacion, 0, 180)\n    // Enviar al servo de rotación\n    pins.servoWritePin(AnalogPin.P1, anguloRotacion)\n    // Mostrar en LCD"],[0,"\n   "]],"start1":892,"start2":892,"length1":35,"length2":356},{"diffs":[[0,"02(\"\" + "],[1,"("],[0,"ejeY"],[1,")"],[0,", makerb"]],"start1":1366,"start2":1366,"length1":20,"length2":22},{"diffs":[[0,"02(\"\" + "],[1,"("],[0,"valorPot"],[1,")"],[0,", makerb"]],"start1":1552,"start2":1552,"length1":24,"length2":26},{"diffs":[[0,"2), 16)\n"],[1,"    // Pequeño delay para suavizar lectura"],[0,"\n    bas"]],"start1":1614,"start2":1614,"length1":16,"length2":58}]}]},{"timestamp":1749766286873,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"id=\""],[-1,"vKS*A8Kv5dv9Cw)C71H/\">valorPot</variable><variable id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</variable><variable id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</variable><variable id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</variable><variable id=\"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado"],[1,"m(%LSXPr?/EvB^prujO/\">ejeY</variable><variable id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</variable><variable id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</variable><variable id=\"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion"],[0,"</va"]],"start1":76,"start2":76,"length1":265,"length2":207},{"diffs":[[0,"AR\" id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw"],[1,"IuUMhkL~-ptE`?.qB]g_"],[0,"\">angulo"]],"start1":411,"start2":411,"length1":36,"length2":36},{"diffs":[[0,"AR\" id=\""],[-1,"[[GXpue~p@eMe0/#BC`6"],[1,"*`)9qHIE=WFgXZh%s`W5"],[0,"\">angulo"]],"start1":599,"start2":599,"length1":36,"length2":36},{"diffs":[[0,"Cone"],[-1,"ctar pantalla"],[1,"xión del"],[0," LCD"]],"start1":827,"start2":827,"length1":21,"length2":16},{"diffs":[[0,"vos\n"],[-1,"Servo g"],[1,"G"],[0,"rúa "]],"start1":1120,"start2":1120,"length1":15,"length2":9},{"diffs":[[0,"AR\" id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw"],[1,"IuUMhkL~-ptE`?.qB]g_"],[0,"\">angulo"]],"start1":1445,"start2":1445,"length1":36,"length2":36},{"diffs":[[0,"60\">"],[-1,"Servo rotación (estructura)"],[1,"Rotación"],[0,"</co"]],"start1":1585,"start2":1585,"length1":35,"length2":16},{"diffs":[[0,"AR\" id=\""],[-1,"[[GXpue~p@eMe0/#BC`6"],[1,"*`)9qHIE=WFgXZh%s`W5"],[0,"\">angulo"]],"start1":1902,"start2":1902,"length1":36,"length2":36},{"diffs":[[0,"0\"><"],[-1,"comment pinned=\"false\" h=\"80\" w=\"160\">Servo rotación (estructura)</comment><"],[0,"stat"]],"start1":2099,"start2":2099,"length1":84,"length2":8},{"diffs":[[0,"id=\""],[-1,"vKS*A8Kv5dv9Cw)C71H/\">valorPot"],[1,"m(%LSXPr?/EvB^prujO/\">ejeY"],[0,"</fi"]],"start1":2174,"start2":2174,"length1":38,"length2":34},{"diffs":[[0,"eer "],[-1,"potenciómetro en P2"],[1,"eje Y del joystick"],[0,"</co"]],"start1":2252,"start2":2252,"length1":27,"length2":26},{"diffs":[[0,"logPin.P"],[-1,"2"],[1,"3"],[0,"</field>"]],"start1":2568,"start2":2568,"length1":17,"length2":17},{"diffs":[[0,"pe=\""],[-1,"variables_set\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field"],[1,"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">--- CONTROL GRÚA (EJE Y DEL JOYSTICK) ---</comment"],[0,"><va"]],"start1":2632,"start2":2632,"length1":82,"length2":140},{"diffs":[[0,"nt><value name=\""],[-1,"VALUE"],[1,"IF0"],[0,"\"><shadow type=\""]],"start1":2766,"start2":2766,"length1":37,"length2":35},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"logic_boolean"],[0,"\"><field nam"]],"start1":2789,"start2":2789,"length1":35,"length2":37},{"diffs":[[0,"n\"><field name=\""],[-1,"NUM\">0"],[1,"BOOL\">TRUE"],[0,"</field></shadow"]],"start1":2813,"start2":2813,"length1":38,"length2":42},{"diffs":[[0,"pe=\""],[-1,"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field></block></value"],[1,"logic_operation\"><field name=\"OP\">AND</field"],[0,"><va"]],"start1":2865,"start2":2865,"length1":153,"length2":52},{"diffs":[[0,"ld><value name=\""],[-1,"low"],[1,"A"],[0,"\"><shadow type=\""]],"start1":2911,"start2":2911,"length1":35,"length2":33},{"diffs":[[0,"pe=\""],[-1,"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number"],[1,"logic_boolean"],[0,"\"><f"]],"start1":2940,"start2":2940,"length1":109,"length2":21},{"diffs":[[0,"field name=\""],[-1,"NUM\">1023"],[1,"BOOL\">TRUE"],[0,"</field></sh"]],"start1":2960,"start2":2960,"length1":33,"length2":34},{"diffs":[[0,"ow><"],[-1,"/value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mapear invertido para que gire en sentido opuesto</comment"],[1,"block type=\"logic_compare\"><field name=\"OP\">GT</field"],[0,"><va"]],"start1":2996,"start2":2996,"length1":228,"length2":61},{"diffs":[[0,"ld><value name=\""],[-1,"VALUE"],[1,"A"],[0,"\"><shadow type=\""]],"start1":3051,"start2":3051,"length1":37,"length2":33},{"diffs":[[0,"ock "],[-1,"type=\"math_map\"><value name=\"value\"><block "],[0,"type"]],"start1":3136,"start2":3136,"length1":51,"length2":8},{"diffs":[[0,"id=\""],[-1,"vKS*A8Kv5dv9Cw)C71H/\">valorPot"],[1,"m(%LSXPr?/EvB^prujO/\">ejeY"],[0,"</fi"]],"start1":3179,"start2":3179,"length1":38,"length2":34},{"diffs":[[0,"ue><value name=\""],[-1,"fromLow"],[1,"B"],[0,"\"><shadow type=\""]],"start1":3230,"start2":3230,"length1":39,"length2":33},{"diffs":[[0,"ield name=\"NUM\">"],[1,"70"],[0,"0</field></shado"]],"start1":3278,"start2":3278,"length1":32,"length2":34},{"diffs":[[0,"shadow></value><"],[1,"/block></value><"],[0,"value name=\"from"]],"start1":3307,"start2":3307,"length1":32,"length2":48},{"diffs":[[0,"value name=\""],[-1,"fromHigh"],[1,"B"],[0,"\"><shadow ty"]],"start1":3339,"start2":3339,"length1":32,"length2":25},{"diffs":[[0,"hadow type=\""],[-1,"math_number"],[1,"logic_boolean"],[0,"\"><field nam"]],"start1":3356,"start2":3356,"length1":35,"length2":37},{"diffs":[[0,"me=\""],[-1,"NUM\">1023"],[1,"BOOL\">TRUE"],[0,"</fi"]],"start1":3392,"start2":3392,"length1":17,"length2":18},{"diffs":[[0,"ow><"],[-1,"/value><value name=\"toLow\"><shadow type=\"math_number"],[1,"block type=\"logic_compare"],[0,"\"><f"]],"start1":3420,"start2":3420,"length1":60,"length2":33},{"diffs":[[0,"field name=\""],[-1,"NUM\">180"],[1,"OP\">LT"],[0,"</field></sh"]],"start1":3452,"start2":3452,"length1":32,"length2":30},{"diffs":[[0,"/field><"],[-1,"/shadow></value><"],[0,"value na"]],"start1":3471,"start2":3471,"length1":33,"length2":16},{"diffs":[[0,"ld><value name=\""],[-1,"toHigh"],[1,"A"],[0,"\"><shadow type=\""]],"start1":3475,"start2":3475,"length1":38,"length2":33},{"diffs":[[0,"ow><"],[-1,"/value></block></value><next><"],[0,"bloc"]],"start1":3554,"start2":3554,"length1":38,"length2":8},{"diffs":[[0,"type=\"variables_"],[-1,"s"],[1,"g"],[0,"et\"><field name="]],"start1":3564,"start2":3564,"length1":33,"length2":33},{"diffs":[[0,"id=\""],[-1,"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field"],[1,"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value"],[0,"><va"]],"start1":3603,"start2":3603,"length1":51,"length2":57},{"diffs":[[0,"ue><value name=\""],[-1,"VALUE"],[1,"B"],[0,"\"><shadow type=\""]],"start1":3654,"start2":3654,"length1":37,"length2":33},{"diffs":[[0,"ield name=\"NUM\">"],[1,"80"],[0,"0</field></shado"]],"start1":3702,"start2":3702,"length1":32,"length2":34},{"diffs":[[0,"ow><"],[-1,"block type=\"math_constrain_"],[1,"/value></block></"],[0,"value"],[-1,"\""],[0,"><"],[-1,"value"],[1,"/block></value><statement"],[0," name=\""],[-1,"value"],[1,"DO0"],[0,"\"><b"]],"start1":3735,"start2":3735,"length1":60,"length2":67},{"diffs":[[0,"type=\"variables_"],[-1,"g"],[1,"s"],[0,"et\"><field name="]],"start1":3807,"start2":3807,"length1":33,"length2":33},{"diffs":[[0,"id=\""],[-1,"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value"],[1,"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field><comment pinned=\"false\" h=\"80\" w=\"160\">Zona muerta → mantener posición media</comment"],[0,"><va"]],"start1":3846,"start2":3846,"length1":156,"length2":133},{"diffs":[[0,"nt><value name=\""],[-1,"high"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":3973,"start2":3973,"length1":36,"length2":37},{"diffs":[[0,"e=\"NUM\">"],[-1,"18"],[1,"9"],[0,"0</field"]],"start1":4033,"start2":4033,"length1":18,"length2":17},{"diffs":[[0,"k></"],[-1,"value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de rotación</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value"],[1,"statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field"],[0,"><va"]],"start1":4074,"start2":4074,"length1":237,"length2":130},{"diffs":[[0,"ld><value name=\""],[-1,"value"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":4198,"start2":4198,"length1":37,"length2":37},{"diffs":[[0,"mber"],[-1,"_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation"],[1,"\""],[0,"><fi"]],"start1":4242,"start2":4242,"length1":69,"length2":9},{"diffs":[[0,"r\"><field name=\""],[-1,"SLIDER"],[1,"NUM"],[0,"\">0</field></sha"]],"start1":4245,"start2":4245,"length1":38,"length2":35},{"diffs":[[0,"pe=\""],[-1,"variables_get\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer joystick eje Y en P3</comment><value name=\"VALUE"],[1,"function_call_output\"><mutation name=\"mapJoystickToServo\" functionid=\"9]o*tgElWA3kLQfz@|6V\"><arg name=\"value\" id=\"md7at91pdqaviufxeewji\" type=\"number\"></arg></mutation><value name=\"md7at91pdqaviufxeewji"],[0,"\"><s"]],"start1":4293,"start2":4293,"length1":287,"length2":210},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"0"],[1,"1"],[0,"</field></shadow"]],"start1":4530,"start2":4530,"length1":33,"length2":33},{"diffs":[[0,"pe=\""],[-1,"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P3</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Zona muerta: mantener servo en 90° si el valor es cercano al centro</comment"],[1,"variables_get\"><field name=\"VAR\" id=\"m(%LSXPr?/EvB^prujO/\">ejeY</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field"],[0,"><va"]],"start1":4573,"start2":4573,"length1":422,"length2":206},{"diffs":[[0,"ld><value name=\""],[-1,"IF0"],[1,"VALUE"],[0,"\"><shadow type=\""]],"start1":4773,"start2":4773,"length1":35,"length2":37},{"diffs":[[0,"hadow type=\""],[-1,"logic_boolean"],[1,"math_number"],[0,"\"><field nam"]],"start1":4798,"start2":4798,"length1":37,"length2":35},{"diffs":[[0,"field name=\""],[-1,"BOOL\">TRUE"],[1,"NUM\">0"],[0,"</field></sh"]],"start1":4824,"start2":4824,"length1":34,"length2":30},{"diffs":[[0,"pe=\""],[-1,"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field"],[1,"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"IuUMhkL~-ptE`?.qB]g_\">anguloGrúa</field></block></value"],[0,"><va"]],"start1":4868,"start2":4868,"length1":192,"length2":155},{"diffs":[[0,"ue><value name=\""],[-1,"A"],[1,"low"],[0,"\"><shadow type=\""]],"start1":5017,"start2":5017,"length1":33,"length2":35},{"diffs":[[0,"ow><"],[-1,"block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block><"],[0,"/val"]],"start1":5098,"start2":5098,"length1":100,"length2":8},{"diffs":[[0,"ue><value name=\""],[-1,"B"],[1,"high"],[0,"\"><shadow type=\""]],"start1":5106,"start2":5106,"length1":33,"length2":36},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"70"],[1,"18"],[0,"0</field></shado"]],"start1":5157,"start2":5157,"length1":34,"length2":34},{"diffs":[[0,"ue><"],[-1,"value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field"],[1,"/block></next></block></statement><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de la grúa</comment"],[0,"><va"]],"start1":5214,"start2":5214,"length1":146,"length2":157},{"diffs":[[0,"nt><value name=\""],[-1,"A"],[1,"name"],[0,"\"><shadow type=\""]],"start1":5365,"start2":5365,"length1":33,"length2":36},{"diffs":[[0,"pe=\""],[-1,"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY"],[1,"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P0"],[0,"</fi"]],"start1":5397,"start2":5397,"length1":133,"length2":57},{"diffs":[[0,"Pin.P0</field></"],[-1,"block"],[1,"shadow"],[0,"></value><value "]],"start1":5444,"start2":5444,"length1":37,"length2":38},{"diffs":[[0,"ue><value name=\""],[-1,"B"],[1,"value"],[0,"\"><shadow type=\""]],"start1":5472,"start2":5472,"length1":33,"length2":37},{"diffs":[[0,"ype=\"math_number"],[-1,"\""],[1,"_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation"],[0,"><field name=\"NU"]],"start1":5504,"start2":5504,"length1":33,"length2":93},{"diffs":[[0,"on><field name=\""],[-1,"NUM\">80"],[1,"SLIDER\">"],[0,"0</field></shado"]],"start1":5579,"start2":5579,"length1":39,"length2":40},{"diffs":[[0,"ow><"],[-1,"/value></block></value></block></value><statement name=\"DO0\"><"],[0,"bloc"]],"start1":5618,"start2":5618,"length1":70,"length2":8},{"diffs":[[0,"type=\"variables_"],[-1,"s"],[1,"g"],[0,"et\"><field name="]],"start1":5628,"start2":5628,"length1":33,"length2":33},{"diffs":[[0,"AR\" id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw"],[1,"IuUMhkL~-ptE`?.qB]g_"],[0,"\">angulo"]],"start1":5663,"start2":5663,"length1":36,"length2":36},{"diffs":[[0,"ld><"],[-1,"value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">400</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">850"],[1,"/block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"w15xwuF!G;^mnCKYn+J}\">valorPot</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer potenciómetro</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P2"],[0,"</fi"]],"start1":5708,"start2":5708,"length1":629,"length2":477},{"diffs":[[0,"Pin.P2</field></"],[-1,"shadow"],[1,"block"],[0,"></value></block"]],"start1":6175,"start2":6175,"length1":38,"length2":37},{"diffs":[[0,"id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa"],[1,"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion"],[0,"</fi"]],"start1":6273,"start2":6273,"length1":40,"length2":44},{"diffs":[[0,"60\">"],[-1,"Invertido y con mayor rango: 400 → 130°, 850 → 50°"],[1,"--- CONTROL ROTACIÓN (POTENCIÓMETRO) ---"],[0,"</co"]],"start1":6356,"start2":6356,"length1":58,"length2":48},{"diffs":[[0,"id=\""],[-1,"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado"],[1,"w15xwuF!G;^mnCKYn+J}\">valorPot"],[0,"</fi"]],"start1":6582,"start2":6582,"length1":41,"length2":38},{"diffs":[[0,"UM\">"],[-1,"40"],[0,"0</f"]],"start1":6703,"start2":6703,"length1":10,"length2":8},{"diffs":[[0,"UM\">"],[-1,"850"],[1,"1023"],[0,"</fi"]],"start1":6797,"start2":6797,"length1":11,"length2":12},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"13"],[0,"0</field></shado"]],"start1":6879,"start2":6879,"length1":34,"length2":32},{"diffs":[[0,"ield name=\"NUM\">"],[-1,"5"],[1,"18"],[0,"0</field></shado"]],"start1":6971,"start2":6971,"length1":33,"length2":34},{"diffs":[[0,"id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa"],[1,"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion"],[0,"</fi"]],"start1":7083,"start2":7083,"length1":40,"length2":44},{"diffs":[[0,"id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa"],[1,"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion"],[0,"</fi"]],"start1":7315,"start2":7315,"length1":40,"length2":44},{"diffs":[[0,"e=\"NUM\">"],[-1,"5"],[0,"0</field"]],"start1":7434,"start2":7434,"length1":17,"length2":16},{"diffs":[[0,"=\"NUM\">1"],[-1,"3"],[1,"8"],[0,"0</field"]],"start1":7525,"start2":7525,"length1":17,"length2":17},{"diffs":[[0,"ue><"],[-1,"/block></next></block></next></block></statement><"],[0,"next"]],"start1":7573,"start2":7573,"length1":58,"length2":8},{"diffs":[[0,"iar al servo de "],[-1,"la grúa"],[1,"rotación"],[0,"</comment><value"]],"start1":7659,"start2":7659,"length1":39,"length2":40},{"diffs":[[0,"pin\">AnalogPin.P"],[-1,"0"],[1,"1"],[0,"</field></shadow"]],"start1":7758,"start2":7758,"length1":33,"length2":33},{"diffs":[[0,"id=\""],[-1,"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa"],[1,"*`)9qHIE=WFgXZh%s`W5\">anguloRotacion"],[0,"</fi"]],"start1":7992,"start2":7992,"length1":40,"length2":44},{"diffs":[[0,"rar "],[-1,"valores en pantalla"],[1,"en LCD"],[0,"</co"]],"start1":8292,"start2":8292,"length1":27,"length2":14},{"diffs":[[0,"id=\""],[-1,"{V!_Jbg|5RE*P9Kj@`TI"],[1,"m(%LSXPr?/EvB^prujO/"],[0,"\">ej"]],"start1":9002,"start2":9002,"length1":28,"length2":28},{"diffs":[[0,"id=\""],[-1,"vKS*A8Kv5dv9Cw)C71H/"],[1,"w15xwuF!G;^mnCKYn+J}"],[0,"\">va"]],"start1":10227,"start2":10227,"length1":28,"length2":28},{"diffs":[[0,"ice_pause\"><"],[1,"comment pinned=\"false\" h=\"80\" w=\"160\">Pequeño delay para suavizar lectura</comment><"],[0,"value name=\""]],"start1":10596,"start2":10596,"length1":24,"length2":108},{"diffs":[[0,"/next></block></"],[-1,"next"],[1,"statement></block><block type=\"function_definition\" x=\"1649\" y=\"20\"><mutation name=\"mapJoystickToServo\" functionid=\"9]o*tgElWA3kLQfz@|6V\"><arg name=\"value\" id=\"md7at91pdqaviufxeewji\" type=\"number\"></arg></mutation><field name=\"function_name\">mapJoystickToServo</field><comment pinned=\"false\" h=\"80\" w=\"160\">Rotación\nFunción para mapear con sensibilidad ajustada</comment><value name=\"md7at91pdqaviufxeewji\"><block type=\"argument_reporter_number\"><mutation duplicateondrag=\"true\"></mutation><field name=\"VALUE\">value</field></block></value><statement name=\"STACK\"><block type=\"function_return\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" no_return_value=\"false\"></mutation><value name=\"RETURN_VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"argument_reporter_number\"><field name=\"VALUE\">value</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1023</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value"],[0,"></block></state"]],"start1":10941,"start2":10941,"length1":36,"length2":1318}]},{"type":"edited","filename":"main.ts","patch":[{"diffs":[[-1,"let ejeFiltrado = 0\n"],[0,"let "]],"start1":0,"start2":0,"length1":24,"length2":4},{"diffs":[[0," 90\n"],[-1,"// Conectar pantalla LCD"],[0,"\nmak"]],"start1":70,"start2":70,"length1":32,"length2":8},{"diffs":[[0,"Lcd(39)\n"],[1,"\n"],[0,"// Posic"]],"start1":91,"start2":91,"length1":16,"length2":17},{"diffs":[[0,"vos\n"],[-1,"// Servo grúa (sube/baja)\n"],[0,"pins"]],"start1":130,"start2":130,"length1":34,"length2":8},{"diffs":[[0,"rúa)"],[-1,"\n// Servo rotación (estructur"],[1,"      // Grúa (sube/baj"],[0,"a)\np"]],"start1":174,"start2":174,"length1":37,"length2":31},{"diffs":[[0,"ion)"],[-1,"\n// Servo rotación (estructura)"],[1,"  // Rotación\n"],[0,"\nbas"]],"start1":248,"start2":248,"length1":39,"length2":22},{"diffs":[[0,"tro "],[-1,"en P2"],[1,"(P2) e invertir"],[0,"\n   "]],"start1":317,"start2":317,"length1":13,"length2":23},{"diffs":[[0,"23)\n"],[-1,"    // Mapear invertido para que gire en sentido opuesto\n"],[0,"    "]],"start1":430,"start2":430,"length1":65,"length2":8},{"diffs":[[0,"80)\n"],[-1,"    // Enviar al servo de rotación\n"],[0,"    "]],"start1":547,"start2":547,"length1":43,"length2":8},{"diffs":[[0,"tacion)\n"],[1,"\n"],[0,"    // L"]],"start1":596,"start2":596,"length1":16,"length2":17},{"diffs":[[0,"e Y "],[-1,"en "],[1,"("],[0,"P3"],[1,")"],[0,"\n   "]],"start1":628,"start2":628,"length1":13,"length2":12},{"diffs":[[0,"P3)\n"],[1,"\n"],[0,"    // "],[-1,"Zona muerta: mantener servo en 90° si el valor es cercano al centro"],[1,"Limitar el rango efectivo del joystick (400–850)"],[0,"\n   "]],"start1":677,"start2":677,"length1":82,"length2":64},{"diffs":[[0,"rúa = 90"],[1,"  // Zona muerta central"],[0,"\n    } e"]],"start1":789,"start2":789,"length1":16,"length2":40},{"diffs":[[0,"        "],[1,"let "],[0,"ejeFiltr"]],"start1":835,"start2":835,"length1":16,"length2":20},{"diffs":[[0,"50)\n"],[-1,"        // Invertido y con mayor rango: 400 → 130°, 850 → 50°\n"],[0,"    "]],"start1":888,"start2":888,"length1":70,"length2":8},{"diffs":[[0,"50, "],[-1,"13"],[0,"0, "],[-1,"5"],[1,"18"],[0,"0)\n "]],"start1":941,"start2":941,"length1":14,"length2":13},{"diffs":[[0,"úa, "],[-1,"5"],[0,"0, 1"],[-1,"3"],[1,"8"],[0,"0)\n "]],"start1":997,"start2":997,"length1":14,"length2":13},{"diffs":[[0,"  }\n"],[-1,"    // Enviar al servo de la grúa"],[0,"\n   "]],"start1":1011,"start2":1011,"length1":41,"length2":8},{"diffs":[[0,"loGrúa)\n"],[1,"\n"],[0,"    // M"]],"start1":1057,"start2":1057,"length1":16,"length2":17},{"diffs":[[0,"rar "],[-1,"valores "],[0,"en p"]],"start1":1077,"start2":1077,"length1":16,"length2":8},{"diffs":[[0,"\" + "],[-1,"("],[0,"ejeY"],[-1,")"],[0,", ma"]],"start1":1218,"start2":1218,"length1":14,"length2":12},{"diffs":[[0,"\" + "],[-1,"("],[0,"valorPot"],[-1,")"],[0,", ma"]],"start1":1402,"start2":1402,"length1":18,"length2":16},{"diffs":[[0,"Pos22), 16)\n"],[1,"\n"],[0,"    basic.pa"]],"start1":1454,"start2":1454,"length1":24,"length2":25}]},{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0,"itor\": \""],[-1,"block"],[1,"t"],[0,"sprj\"\n}\n"]],"start1":342,"start2":342,"length1":21,"length2":17}]}]},{"timestamp":1749766718073,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"main.blocks","patch":[{"diffs":[[0,"art\""],[-1," id=\"URl;lu^Oq_/0CG)^.A6w\""],[0," x=\""]],"start1":382,"start2":382,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"Am}xnl_zC)IYCQTI;e#!\""],[0,"><fi"]],"start1":450,"start2":450,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"}k6nAv|3j*,rP%5On:(C\""],[0,"><fi"]],"start1":559,"start2":559,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"Hn-lw}qe4ye4Z_xJN7)o\""],[0,"><fi"]],"start1":638,"start2":638,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"ygC,jAhyj;/w.EafQNnu\""],[0,"><fi"]],"start1":751,"start2":751,"length1":34,"length2":8},{"diffs":[[0,"ess\""],[-1," id=\"(K_KJFQ`~3H`6UK~.etV\""],[0,"><co"]],"start1":841,"start2":841,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"TfnIqjVG^qdgT%!V#.#E\""],[0,"><mu"]],"start1":970,"start2":970,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\",lZmhhf=-4TSjT*Lj(s/\""],[0,"><co"]],"start1":1112,"start2":1112,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"a)pt1ZNd3=O[2L@9a%OO\""],[0,"><fi"]],"start1":1266,"start2":1266,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"4Wbz}z8Cs%0-eP}XDKKQ\""],[0,"><mu"]],"start1":1375,"start2":1375,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"CuM}t^I4F?/A:HHg,Ct7\""],[0,"><fi"]],"start1":1495,"start2":1495,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"6i_FugM+45h(bR!iR-%e\""],[0,"><co"]],"start1":1614,"start2":1614,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"4CgQenUFX$@QbU`Xllg(\""],[0,"><fi"]],"start1":1742,"start2":1742,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"*)C]+L|w:8~XYlm!+WH(\""],[0,"><mu"]],"start1":1851,"start2":1851,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"/G,(baGaR)p(BPuy3x5S\""],[0,"><fi"]],"start1":1971,"start2":1971,"length1":34,"length2":8},{"diffs":[[0,"ver\""],[-1," id=\"~kei^Fll!%!xY-#zH8*]\""],[0," x=\""]],"start1":2170,"start2":2170,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"Aueal=/Iw$}|=:Y$7|qk\""],[0,"><fi"]],"start1":2315,"start2":2315,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"DN4SRhphYhpVI9kx7Er_\""],[0,"><fi"]],"start1":2495,"start2":2495,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"ZXO-A_uRRcw9Xr8hqPh~\""],[0,"><va"]],"start1":2567,"start2":2567,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"a@UUsP(q$|Eb6dI2@i:W\""],[0,"><fi"]],"start1":2630,"start2":2630,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"|LQL:~WP/.vLcm!ghAyO\""],[0,"><fi"]],"start1":2711,"start2":2711,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"Z.,GBkuN4Ia%5*$V-.%g\""],[0,"><fi"]],"start1":2815,"start2":2815,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"$!*clCxHGJu+S?kDP0Wl\""],[0,"><fi"]],"start1":2922,"start2":2922,"length1":34,"length2":8},{"diffs":[[0,"lue\""],[-1," id=\"%`?`-+T*i}v5S@Z2[Avc\""],[0,"><va"]],"start1":2993,"start2":2993,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"bF;or:;u~W(0*B(1jexE\""],[0,"><fi"]],"start1":3041,"start2":3041,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"#Pt#t}s)~!yt3xEz=;?e\""],[0,"><fi"]],"start1":3162,"start2":3162,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"lzLYZ*;Qld)WBCEd|Hjz\""],[0,"><fi"]],"start1":3252,"start2":3252,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"h?_{#}s|b`a=hM)j$%C9\""],[0,"><fi"]],"start1":3349,"start2":3349,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\".d)Nq0ykz~4`O[er!e{*\""],[0,"><fi"]],"start1":3560,"start2":3560,"length1":34,"length2":8},{"diffs":[[0,"map\""],[-1," id=\"r+o+}4z.Q{_K;1+)-,$C\""],[0,"><va"]],"start1":3619,"start2":3619,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"0VGW[n~BBN*ZAf[b/D?9\""],[0,"><fi"]],"start1":3667,"start2":3667,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"o~;2+{Q[HU)!W7fqDI=#\""],[0,"><fi"]],"start1":3792,"start2":3792,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"HNeOjYFv-4t_3cOE_/TB\""],[0,"><fi"]],"start1":3886,"start2":3886,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"XS~_q{uV^~{e%ip:=dUQ\""],[0,"><fi"]],"start1":3980,"start2":3980,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"5*+O8%BUWqc9rq!q8hx1\""],[0,"><fi"]],"start1":4074,"start2":4074,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"47unhCg?Fw/M?Eg!i}Nz\""],[0,"><fi"]],"start1":4168,"start2":4168,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"s03VA;K+oz]KW7)f*gi}\""],[0,"><fi"]],"start1":4281,"start2":4281,"length1":34,"length2":8},{"diffs":[[0,"lue\""],[-1," id=\"*Cip9(HFCa+!RLDuxkKV\""],[0,"><va"]],"start1":4352,"start2":4352,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"ibcp~GIiKet@cBiRnoLv\""],[0,"><fi"]],"start1":4400,"start2":4400,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"N;h(2YBmNS!3zZKQ5%q5\""],[0,"><fi"]],"start1":4527,"start2":4527,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"+[,!TloeokE6uj-il~oY\""],[0,"><fi"]],"start1":4617,"start2":4617,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"A*U#T7p^8q(^yGk(/!Ac\""],[0,"><co"]],"start1":4720,"start2":4720,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"3T}UhODRU:GVsxaSB*-H\""],[0,"><fi"]],"start1":4848,"start2":4848,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"}?Dc!nm)?|Vwx{5`yE0O\""],[0,"><mu"]],"start1":4957,"start2":4957,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"ffVI-Z2ZsU:B5=pZv-Tj\""],[0,"><fi"]],"start1":5077,"start2":5077,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"d{HwK;CA$V|b3RG9N[zL\""],[0,"><fi"]],"start1":5193,"start2":5193,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"YJJx%LHEe|7S!pk{Vbwe\""],[0,"><fi"]],"start1":5370,"start2":5370,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"%*@i)IXr:A;sCO(:iUR.\""],[0,"><va"]],"start1":5442,"start2":5442,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"a9D-(IFORBvT]x)kn#Kh\""],[0,"><fi"]],"start1":5505,"start2":5505,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"C5IH|gkXXEA#yMb5?fmb\""],[0,"><fi"]],"start1":5586,"start2":5586,"length1":34,"length2":8},{"diffs":[[0,"_if\""],[-1," id=\"Er[m(+$b4Y*#KSS*qS_@\""],[0,"><mu"]],"start1":5688,"start2":5688,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"nmoqF/Y8MOg!lW2q@lk/\""],[0,"><fi"]],"start1":5881,"start2":5881,"length1":34,"length2":8},{"diffs":[[0,"ion\""],[-1," id=\"t6}/67EvlnIpxK#GeDf[\""],[0,"><fi"]],"start1":5951,"start2":5951,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\"@+}Y$n.7v`S`#MJy]X0H\""],[0,"><fi"]],"start1":6024,"start2":6024,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"D~?bv,KAT=o-X[yN]:V)\""],[0,"><fi"]],"start1":6092,"start2":6092,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"5[)V*uYsSf(%#?0X.k5P\""],[0,"><fi"]],"start1":6162,"start2":6162,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"HQQqxK73t1.QX1H_=Kt6\""],[0,"><fi"]],"start1":6226,"start2":6226,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"=QzYE.j_Qz0+qIa-6e+6\""],[0,"><fi"]],"start1":6341,"start2":6341,"length1":34,"length2":8},{"diffs":[[0,"ean\""],[-1," id=\",!h96bI|o,]AKR)[h,)$\""],[0,"><fi"]],"start1":6448,"start2":6448,"length1":34,"length2":8},{"diffs":[[0,"are\""],[-1," id=\"`zYnfP;{P,MiX]0Ut{7+\""],[0,"><fi"]],"start1":6516,"start2":6516,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"KE-!.vL#KliNG@K(r@x7\""],[0,"><fi"]],"start1":6586,"start2":6586,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"+VZj}a?~~DmXDJ~o6;[O\""],[0,"><fi"]],"start1":6650,"start2":6650,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"ds|fIP%@=n?X5Xj2$PAn\""],[0,"><fi"]],"start1":6765,"start2":6765,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"b]I(gSuW1n)FY],hHAoK\""],[0,"><fi"]],"start1":6893,"start2":6893,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"6@Anq9zHH4U+i]X5hTP7\""],[0,"><fi"]],"start1":7002,"start2":7002,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"YLk78;^~L?(ms5weN)-g\""],[0,"><fi"]],"start1":7118,"start2":7118,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"S(aJl)k:_qI$|db-_$8r\""],[0,"><fi"]],"start1":7228,"start2":7228,"length1":34,"length2":8},{"diffs":[[0,"lue\""],[-1," id=\"C5#1Iz/$0]d/MbC62X4;\""],[0,"><va"]],"start1":7299,"start2":7299,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"kPlo9Hhm7ee],EkQja.c\""],[0,"><fi"]],"start1":7347,"start2":7347,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"qT9{?*GcbiRI;Gg[B8?6\""],[0,"><fi"]],"start1":7464,"start2":7464,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"+d6^)EH~*V3g|;ysO|pE\""],[0,"><fi"]],"start1":7556,"start2":7556,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"P/X;o}TnNw{}xnJ.^q3@\""],[0,"><fi"]],"start1":7652,"start2":7652,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"2p?W*SD_){B=LYYa9N3p\""],[0,"><fi"]],"start1":7860,"start2":7860,"length1":34,"length2":8},{"diffs":[[0,"map\""],[-1," id=\"sk_uxoHr!QB^Z9VL0:4.\""],[0,"><va"]],"start1":7919,"start2":7919,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"ic}h~g54^E`G22Sd2cHM\""],[0,"><fi"]],"start1":7967,"start2":7967,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"ehFP$+2)cbG}MOEj]x0;\""],[0,"><fi"]],"start1":8095,"start2":8095,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"g*gtF2DdI]Llx]V*e{PU\""],[0,"><fi"]],"start1":8191,"start2":8191,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"y638Ley`+YWdpOiQUBOx\""],[0,"><fi"]],"start1":8284,"start2":8284,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"+Uii(SSc1;5kwzlWVslk\""],[0,"><fi"]],"start1":8378,"start2":8378,"length1":34,"length2":8},{"diffs":[[0,"set\""],[-1," id=\"aLbR;;qLi?1yjW.j2EQ`\""],[0,"><fi"]],"start1":8473,"start2":8473,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"hCa@Ym8VGX1HKr)0nS=$\""],[0,"><fi"]],"start1":8582,"start2":8582,"length1":34,"length2":8},{"diffs":[[0,"lue\""],[-1," id=\".ebGtAYdD5o2PtYC4Tw0\""],[0,"><va"]],"start1":8653,"start2":8653,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"(JK2(5q$Nil?BoBudB%`\""],[0,"><fi"]],"start1":8701,"start2":8701,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\";jTWMQwGOc`#2lCdtf6E\""],[0,"><fi"]],"start1":8824,"start2":8824,"length1":34,"length2":8},{"diffs":[[0,"ber\""],[-1," id=\"_~vJ2U!p%qR17hr#X$qt\""],[0,"><fi"]],"start1":8915,"start2":8915,"length1":34,"length2":8},{"diffs":[[0,"pin\""],[-1," id=\"Xlh4Wo=/W|9VF+|=Gh(R\""],[0,"><co"]],"start1":9068,"start2":9068,"length1":34,"length2":8},{"diffs":[[0,"dow\""],[-1," id=\"3XP1~DxJm2/s,vXHIQ9g\""],[0,"><fi"]],"start1":9195,"start2":9195,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"kX:?}`;5dj`s_;N1^8P/\""],[0,"><mu"]],"start1":9304,"start2":9304,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"T$Qb$o.qnDvHS(M]1DQG\""],[0,"><fi"]],"start1":9424,"start2":9424,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"2ijM:66cmI~;#.?3++vF\""],[0,"><mu"]],"start1":9555,"start2":9555,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"+[ps#^+.EiIbV9V1MB|6\""],[0,"><fi"]],"start1":9810,"start2":9810,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"h$aT:+=vGtUta;aO~/)!\""],[0,"><fi"]],"start1":9929,"start2":9929,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\".[^_zIKvrH.xn1fI}kSQ\""],[0,"><mu"]],"start1":10047,"start2":10047,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"tC~tFBrmX#V{_FQR54(o\""],[0,"><mu"]],"start1":10200,"start2":10200,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"#R#{ZaOa2~}*uyXJ:gS/\""],[0,"><fi"]],"start1":10379,"start2":10379,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"7E2#0mKf)db*grOI1-Ad\""],[0,"><fi"]],"start1":10443,"start2":10443,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"|[dMD0@hjEIs=7m.xfg)\""],[0,"><fi"]],"start1":10585,"start2":10585,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"Oh1cjCpaZ{UUU+/0NDy$\""],[0,"><mu"]],"start1":10703,"start2":10703,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\",B{}92z-wkh7zkS5`ZKt\""],[0,"><mu"]],"start1":10856,"start2":10856,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"fwT$30C!p]$A}eL}u|CW\""],[0,"><fi"]],"start1":11035,"start2":11035,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"]kVcO/Rj/=QCaAh0#h3s\""],[0,"><fi"]],"start1":11153,"start2":11153,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"ZepWKX}zEi|gxP$w7G9Y\""],[0,"><mu"]],"start1":11272,"start2":11272,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\"u=v0V*R;#U4ag6$8GT^5\""],[0,"><mu"]],"start1":11425,"start2":11425,"length1":34,"length2":8},{"diffs":[[0,"ext\""],[-1," id=\"e8izyhoI/MQj]so+S?QN\""],[0,"><fi"]],"start1":11604,"start2":11604,"length1":34,"length2":8},{"diffs":[[0,"get\""],[-1," id=\"GAjH:w6/J91]Ai3Wr5:y\""],[0,"><fi"]],"start1":11668,"start2":11668,"length1":34,"length2":8},{"diffs":[[0,"602\""],[-1," id=\";tpg)f1Wae#9qP$-7x5T\""],[0,"><fi"]],"start1":11814,"start2":11814,"length1":34,"length2":8},{"diffs":[[0,"max\""],[-1," id=\"bN!1q3UgILn_:POVrg.N\""],[0,"><mu"]],"start1":11933,"start2":11933,"length1":34,"length2":8},{"diffs":[[0,"use\""],[-1," id=\"#!2lw67LP1[{U.kx-]`=\""],[0,"><va"]],"start1":12066,"start2":12066,"length1":34,"length2":8},{"diffs":[[0,"ker\""],[-1," id=\"t%Z%F,3WJX816KJ,V5-d\""],[0,"><fi"]],"start1":12112,"start2":12112,"length1":34,"length2":8}]}]},{"timestamp":1749767338524,"editorVersion":"7.0.61","changes":[{"type":"edited","filename":"pxt.json","patch":[{"diffs":[[0," ],\n"],[-1,"    \"testFiles\": [\n        \"test.ts\"\n    ],\n"],[0,"    "]],"start1":322,"start2":322,"length1":52,"length2":8}]},{"type":"added","filename":"test.ts","value":"// aquí va el archivo \"tests\"; esto no se compilará cuando este paquete se utilice como una extensión.\n"}]}],"snapshots":[{"timestamp":1749765382583,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <block type=\"pxt-on-start\"></block>\n  <block type=\"device_forever\"></block>\n</xml>","main.ts":"\n","README.md":"","pxt.json":"{\n    \"name\": \"joystick servo grua\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1749767338524,"editorVersion":"7.0.61","text":{"main.blocks":"<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</variable><variable id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</variable><variable id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</variable><variable id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</variable><variable id=\"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado</variable></variables><block type=\"pxt-on-start\" x=\"20\" y=\"20\"><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value><next><block type=\"makerbit_lcd_set_address\"><comment pinned=\"false\" h=\"80\" w=\"160\">Conectar pantalla LCD</comment><value name=\"i2cAddress\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"127\" precision=\"0\"></mutation><field name=\"SLIDER\">39</field></shadow></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Posición inicial de los servos\nServo grúa (sube/baja)</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P0</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field></block></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Servo rotación (estructura)</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type=\"device_forever\" x=\"541\" y=\"20\"><comment pinned=\"false\" h=\"80\" w=\"160\">Servo rotación (estructura)</comment><statement name=\"HANDLER\"><block type=\"variables_set\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer potenciómetro en P2</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P2</field></block></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">1023</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mapear invertido para que gire en sentido opuesto</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">1023</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">180</field></shadow></value></block></value><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de rotación</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P1</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"[[GXpue~p@eMe0/#BC`6\">anguloRotacion</field></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field><comment pinned=\"false\" h=\"80\" w=\"160\">Leer joystick eje Y en P3</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"device_get_analog_pin\"><value name=\"name\"><shadow type=\"analog_read_write_pin_shadow\"><field name=\"pin\">AnalogReadWritePin.P0</field></shadow><block type=\"analog_pin\"><field name=\"pin\">AnalogPin.P3</field></block></value></block></value><next><block type=\"controls_if\"><mutation else=\"1\"></mutation><comment pinned=\"false\" h=\"80\" w=\"160\">Zona muerta: mantener servo en 90° si el valor es cercano al centro</comment><value name=\"IF0\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_operation\"><field name=\"OP\">AND</field><value name=\"A\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">GT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">700</field></shadow></value></block></value><value name=\"B\"><shadow type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></shadow><block type=\"logic_compare\"><field name=\"OP\">LT</field><value name=\"A\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block></value><value name=\"B\"><shadow type=\"math_number\"><field name=\"NUM\">800</field></shadow></value></block></value></block></value><statement name=\"DO0\"><block type=\"variables_set\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">90</field></shadow></value></block></statement><statement name=\"ELSE\"><block type=\"variables_set\"><field name=\"VAR\" id=\"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">400</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">850</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field><comment pinned=\"false\" h=\"80\" w=\"160\">Invertido y con mayor rango: 400 → 130°, 850 → 50°</comment><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_map\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"d$5L^1YJCqnDx3F57F7#\">ejeFiltrado</field></block></value><value name=\"fromLow\"><shadow type=\"math_number\"><field name=\"NUM\">400</field></shadow></value><value name=\"fromHigh\"><shadow type=\"math_number\"><field name=\"NUM\">850</field></shadow></value><value name=\"toLow\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value><value name=\"toHigh\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value></block></value><next><block type=\"variables_set\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field><value name=\"VALUE\"><shadow type=\"math_number\"><field name=\"NUM\">0</field></shadow><block type=\"math_constrain_value\"><value name=\"value\"><block type=\"variables_get\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field></block></value><value name=\"low\"><shadow type=\"math_number\"><field name=\"NUM\">50</field></shadow></value><value name=\"high\"><shadow type=\"math_number\"><field name=\"NUM\">130</field></shadow></value></block></value></block></next></block></next></block></statement><next><block type=\"device_set_servo_pin\"><comment pinned=\"false\" h=\"80\" w=\"160\">Enviar al servo de la grúa</comment><value name=\"name\"><shadow type=\"analog_pin_shadow\"><field name=\"pin\">AnalogPin.P0</field></shadow></value><value name=\"value\"><shadow type=\"math_number_minmax\"><mutation min=\"0\" max=\"180\" precision=\"0\"></mutation><field name=\"SLIDER\">0</field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"_@4jzyS;2COI3LKAu;Iw\">anguloGrúa</field></block></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><comment pinned=\"false\" h=\"80\" w=\"160\">Mostrar valores en pantalla</comment><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">JoyY:</field></shadow></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos1</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"{V!_Jbg|5RE*P9Kj@`TI\">ejeY</field></block></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos6</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\">Pot:</field></shadow></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos17</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"makerbit_lcd_show_string_on_1602\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" _expanded=\"0\" _input_init=\"true\"></mutation><field name=\"option\">TextOption.AlignLeft</field><value name=\"text\"><shadow type=\"text\"><field name=\"TEXT\"></field></shadow><block type=\"variables_get\"><field name=\"VAR\" id=\"vKS*A8Kv5dv9Cw)C71H/\">valorPot</field></block></value><value name=\"startPosition\"><shadow type=\"makerbit_lcd_position_1602\"><field name=\"pos\">LcdPosition1602.Pos22</field></shadow></value><value name=\"length\"><shadow type=\"math_number_minmax\"><mutation min=\"1\" max=\"32\" precision=\"0\"></mutation><field name=\"SLIDER\">16</field></shadow></value><next><block type=\"device_pause\"><value name=\"pause\"><shadow type=\"timePicker\"><field name=\"ms\">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>","main.ts":"","README.md":"","pxt.json":"{\n    \"name\": \"joystick servo grua\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"core\": \"*\",\n        \"radio\": \"*\",\n        \"microphone\": \"*\",\n        \"MakerBit-LCD1602\": \"github:1010technologies/pxt-makerbit-lcd1602#v1.8.11\"\n    },\n    \"files\": [\n        \"main.blocks\",\n        \"main.ts\",\n        \"README.md\"\n    ],\n    \"preferredEditor\": \"blocksprj\"\n}\n"}}],"shares":[],"lastSaveTime":1749767338654}