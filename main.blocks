<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="vKS*A8Kv5dv9Cw)C71H/">valorPot</variable><variable id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</variable><variable id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</variable><variable id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</variable><variable id="d$5L^1YJCqnDx3F57F7#">ejeFiltrado</variable></variables><block type="pxt-on-start" id="URl;lu^Oq_/0CG)^.A6w" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="Am}xnl_zC)IYCQTI;e#!"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field><value name="VALUE"><shadow type="math_number" id="}k6nAv|3j*,rP%5On:(C"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="Hn-lw}qe4ye4Z_xJN7)o"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field><value name="VALUE"><shadow type="math_number" id="ygC,jAhyj;/w.EafQNnu"><field name="NUM">90</field></shadow></value><next><block type="makerbit_lcd_set_address" id="(K_KJFQ`~3H`6UK~.etV"><comment pinned="false" h="80" w="160">Conectar pantalla LCD</comment><value name="i2cAddress"><shadow type="math_number_minmax" id="TfnIqjVG^qdgT%!V#.#E"><mutation min="0" max="127" precision="0"></mutation><field name="SLIDER">39</field></shadow></value><next><block type="device_set_servo_pin" id=",lZmhhf=-4TSjT*Lj(s/"><comment pinned="false" h="80" w="160">Posición inicial de los servos
Servo grúa (sube/baja)</comment><value name="name"><shadow type="analog_pin_shadow" id="a)pt1ZNd3=O[2L@9a%OO"><field name="pin">AnalogPin.P0</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="4Wbz}z8Cs%0-eP}XDKKQ"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="CuM}t^I4F?/A:HHg,Ct7"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field></block></value><next><block type="device_set_servo_pin" id="6i_FugM+45h(bR!iR-%e"><comment pinned="false" h="80" w="160">Servo rotación (estructura)</comment><value name="name"><shadow type="analog_pin_shadow" id="4CgQenUFX$@QbU`Xllg("><field name="pin">AnalogPin.P1</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="*)C]+L|w:8~XYlm!+WH("><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="/G,(baGaR)p(BPuy3x5S"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="~kei^Fll!%!xY-#zH8*]" x="541" y="20"><comment pinned="false" h="80" w="160">Servo rotación (estructura)</comment><statement name="HANDLER"><block type="variables_set" id="Aueal=/Iw$}|=:Y$7|qk"><field name="VAR" id="vKS*A8Kv5dv9Cw)C71H/">valorPot</field><comment pinned="false" h="80" w="160">Leer potenciómetro en P2</comment><value name="VALUE"><shadow type="math_number" id="DN4SRhphYhpVI9kx7Er_"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="ZXO-A_uRRcw9Xr8hqPh~"><value name="name"><shadow type="analog_read_write_pin_shadow" id="a@UUsP(q$|Eb6dI2@i:W"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="|LQL:~WP/.vLcm!ghAyO"><field name="pin">AnalogPin.P2</field></block></value></block></value><next><block type="variables_set" id="Z.,GBkuN4Ia%5*$V-.%g"><field name="VAR" id="vKS*A8Kv5dv9Cw)C71H/">valorPot</field><value name="VALUE"><shadow type="math_number" id="$!*clCxHGJu+S?kDP0Wl"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="%`?`-+T*i}v5S@Z2[Avc"><value name="value"><block type="variables_get" id="bF;or:;u~W(0*B(1jexE"><field name="VAR" id="vKS*A8Kv5dv9Cw)C71H/">valorPot</field></block></value><value name="low"><shadow type="math_number" id="#Pt#t}s)~!yt3xEz=;?e"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="lzLYZ*;Qld)WBCEd|Hjz"><field name="NUM">1023</field></shadow></value></block></value><next><block type="variables_set" id="h?_{#}s|b`a=hM)j$%C9"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field><comment pinned="false" h="80" w="160">Mapear invertido para que gire en sentido opuesto</comment><value name="VALUE"><shadow type="math_number" id=".d)Nq0ykz~4`O[er!e{*"><field name="NUM">0</field></shadow><block type="math_map" id="r+o+}4z.Q{_K;1+)-,$C"><value name="value"><block type="variables_get" id="0VGW[n~BBN*ZAf[b/D?9"><field name="VAR" id="vKS*A8Kv5dv9Cw)C71H/">valorPot</field></block></value><value name="fromLow"><shadow type="math_number" id="o~;2+{Q[HU)!W7fqDI=#"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="HNeOjYFv-4t_3cOE_/TB"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number" id="XS~_q{uV^~{e%ip:=dUQ"><field name="NUM">180</field></shadow></value><value name="toHigh"><shadow type="math_number" id="5*+O8%BUWqc9rq!q8hx1"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="47unhCg?Fw/M?Eg!i}Nz"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field><value name="VALUE"><shadow type="math_number" id="s03VA;K+oz]KW7)f*gi}"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="*Cip9(HFCa+!RLDuxkKV"><value name="value"><block type="variables_get" id="ibcp~GIiKet@cBiRnoLv"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field></block></value><value name="low"><shadow type="math_number" id="N;h(2YBmNS!3zZKQ5%q5"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="+[,!TloeokE6uj-il~oY"><field name="NUM">180</field></shadow></value></block></value><next><block type="device_set_servo_pin" id="A*U#T7p^8q(^yGk(/!Ac"><comment pinned="false" h="80" w="160">Enviar al servo de rotación</comment><value name="name"><shadow type="analog_pin_shadow" id="3T}UhODRU:GVsxaSB*-H"><field name="pin">AnalogPin.P1</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="}?Dc!nm)?|Vwx{5`yE0O"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="ffVI-Z2ZsU:B5=pZv-Tj"><field name="VAR" id="[[GXpue~p@eMe0/#BC`6">anguloRotacion</field></block></value><next><block type="variables_set" id="d{HwK;CA$V|b3RG9N[zL"><field name="VAR" id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</field><comment pinned="false" h="80" w="160">Leer joystick eje Y en P3</comment><value name="VALUE"><shadow type="math_number" id="YJJx%LHEe|7S!pk{Vbwe"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="%*@i)IXr:A;sCO(:iUR."><value name="name"><shadow type="analog_read_write_pin_shadow" id="a9D-(IFORBvT]x)kn#Kh"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="C5IH|gkXXEA#yMb5?fmb"><field name="pin">AnalogPin.P3</field></block></value></block></value><next><block type="controls_if" id="Er[m(+$b4Y*#KSS*qS_@"><mutation else="1"></mutation><comment pinned="false" h="80" w="160">Zona muerta: mantener servo en 90° si el valor es cercano al centro</comment><value name="IF0"><shadow type="logic_boolean" id="nmoqF/Y8MOg!lW2q@lk/"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="t6}/67EvlnIpxK#GeDf["><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="@+}Y$n.7v`S`#MJy]X0H"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="D~?bv,KAT=o-X[yN]:V)"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="5[)V*uYsSf(%#?0X.k5P"><field name="NUM">0</field></shadow><block type="variables_get" id="HQQqxK73t1.QX1H_=Kt6"><field name="VAR" id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</field></block></value><value name="B"><shadow type="math_number" id="=QzYE.j_Qz0+qIa-6e+6"><field name="NUM">700</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id=",!h96bI|o,]AKR)[h,)$"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="`zYnfP;{P,MiX]0Ut{7+"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="KE-!.vL#KliNG@K(r@x7"><field name="NUM">0</field></shadow><block type="variables_get" id="+VZj}a?~~DmXDJ~o6;[O"><field name="VAR" id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</field></block></value><value name="B"><shadow type="math_number" id="ds|fIP%@=n?X5Xj2$PAn"><field name="NUM">800</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="b]I(gSuW1n)FY],hHAoK"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field><value name="VALUE"><shadow type="math_number" id="6@Anq9zHH4U+i]X5hTP7"><field name="NUM">90</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="YLk78;^~L?(ms5weN)-g"><field name="VAR" id="d$5L^1YJCqnDx3F57F7#">ejeFiltrado</field><value name="VALUE"><shadow type="math_number" id="S(aJl)k:_qI$|db-_$8r"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="C5#1Iz/$0]d/MbC62X4;"><value name="value"><block type="variables_get" id="kPlo9Hhm7ee],EkQja.c"><field name="VAR" id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</field></block></value><value name="low"><shadow type="math_number" id="qT9{?*GcbiRI;Gg[B8?6"><field name="NUM">400</field></shadow></value><value name="high"><shadow type="math_number" id="+d6^)EH~*V3g|;ysO|pE"><field name="NUM">850</field></shadow></value></block></value><next><block type="variables_set" id="P/X;o}TnNw{}xnJ.^q3@"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field><comment pinned="false" h="80" w="160">Invertido y con mayor rango: 400 → 130°, 850 → 50°</comment><value name="VALUE"><shadow type="math_number" id="2p?W*SD_){B=LYYa9N3p"><field name="NUM">0</field></shadow><block type="math_map" id="sk_uxoHr!QB^Z9VL0:4."><value name="value"><block type="variables_get" id="ic}h~g54^E`G22Sd2cHM"><field name="VAR" id="d$5L^1YJCqnDx3F57F7#">ejeFiltrado</field></block></value><value name="fromLow"><shadow type="math_number" id="ehFP$+2)cbG}MOEj]x0;"><field name="NUM">400</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="g*gtF2DdI]Llx]V*e{PU"><field name="NUM">850</field></shadow></value><value name="toLow"><shadow type="math_number" id="y638Ley`+YWdpOiQUBOx"><field name="NUM">130</field></shadow></value><value name="toHigh"><shadow type="math_number" id="+Uii(SSc1;5kwzlWVslk"><field name="NUM">50</field></shadow></value></block></value><next><block type="variables_set" id="aLbR;;qLi?1yjW.j2EQ`"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field><value name="VALUE"><shadow type="math_number" id="hCa@Ym8VGX1HKr)0nS=$"><field name="NUM">0</field></shadow><block type="math_constrain_value" id=".ebGtAYdD5o2PtYC4Tw0"><value name="value"><block type="variables_get" id="(JK2(5q$Nil?BoBudB%`"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field></block></value><value name="low"><shadow type="math_number" id=";jTWMQwGOc`#2lCdtf6E"><field name="NUM">50</field></shadow></value><value name="high"><shadow type="math_number" id="_~vJ2U!p%qR17hr#X$qt"><field name="NUM">130</field></shadow></value></block></value></block></next></block></next></block></statement><next><block type="device_set_servo_pin" id="Xlh4Wo=/W|9VF+|=Gh(R"><comment pinned="false" h="80" w="160">Enviar al servo de la grúa</comment><value name="name"><shadow type="analog_pin_shadow" id="3XP1~DxJm2/s,vXHIQ9g"><field name="pin">AnalogPin.P0</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="kX:?}`;5dj`s_;N1^8P/"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="T$Qb$o.qnDvHS(M]1DQG"><field name="VAR" id="_@4jzyS;2COI3LKAu;Iw">anguloGrúa</field></block></value><next><block type="makerbit_lcd_show_string_on_1602" id="2ijM:66cmI~;#.?3++vF"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><comment pinned="false" h="80" w="160">Mostrar valores en pantalla</comment><value name="text"><shadow type="text" id="+[ps#^+.EiIbV9V1MB|6"><field name="TEXT">JoyY:</field></shadow></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="h$aT:+=vGtUta;aO~/)!"><field name="pos">LcdPosition1602.Pos1</field></shadow></value><value name="length"><shadow type="math_number_minmax" id=".[^_zIKvrH.xn1fI}kSQ"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="tC~tFBrmX#V{_FQR54(o"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="#R#{ZaOa2~}*uyXJ:gS/"><field name="TEXT"></field></shadow><block type="variables_get" id="7E2#0mKf)db*grOI1-Ad"><field name="VAR" id="{V!_Jbg|5RE*P9Kj@`TI">ejeY</field></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="|[dMD0@hjEIs=7m.xfg)"><field name="pos">LcdPosition1602.Pos6</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="Oh1cjCpaZ{UUU+/0NDy$"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id=",B{}92z-wkh7zkS5`ZKt"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="fwT$30C!p]$A}eL}u|CW"><field name="TEXT">Pot:</field></shadow></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="]kVcO/Rj/=QCaAh0#h3s"><field name="pos">LcdPosition1602.Pos17</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="ZepWKX}zEi|gxP$w7G9Y"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="u=v0V*R;#U4ag6$8GT^5"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="e8izyhoI/MQj]so+S?QN"><field name="TEXT"></field></shadow><block type="variables_get" id="GAjH:w6/J91]Ai3Wr5:y"><field name="VAR" id="vKS*A8Kv5dv9Cw)C71H/">valorPot</field></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id=";tpg)f1Wae#9qP$-7x5T"><field name="pos">LcdPosition1602.Pos22</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="bN!1q3UgILn_:POVrg.N"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="device_pause" id="#!2lw67LP1[{U.kx-]`="><value name="pause"><shadow type="timePicker" id="t%Z%F,3WJX816KJ,V5-d"><field name="ms">100</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>