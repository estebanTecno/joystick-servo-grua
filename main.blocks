<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="ZA06xdS_f_MRBxS=P%$x">valorPot</variable><variable id="|2q8sDmwjzu0fZ#GD7iH">historialPot</variable><variable id="e0hN@etgbD;HVu|a?7=A">TAMANO_BUFFER</variable><variable id="Lb2pieUg#iB~_!mA0b]u">promedioPot</variable><variable id="c?hKRp==#[5/mNJQ,*:N">anguloRotacionDeseado</variable><variable id="G4T/ywmd*!WaCb$8fi{h">ejeY</variable><variable id="p8utKxbq.}Bs+-eIG(?)">historialEjeY</variable><variable id="Vt.E`h?[h`Kb/PY^ux56">promedioEjeY</variable><variable id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</variable><variable id=":=+.a^7A-~;ad;#;0:oq">ejeFiltrado</variable><variable id="Ma@tf0FZX|J1/)-k9{Sq">paso</variable><variable id="fTvhh~=2Y@q_QSpa0Q~|">anguloRotacionActual</variable><variable id="b%KHry]Ld;v?Gh^t[m5A">anguloGrúaActual</variable><variable id="/ga:%3e9/X.b@,?M$No7">anguloGrúa</variable><variable id="x8,3:G|.58Fa$rLM(r1#">anguloRotacion</variable></variables><block type="pxt-on-start" id="{g.}/vI7bP=CO/izfL|q" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="3$DIr{Jom0m|49MS~..X"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let historialEjeY: number[] = []" numlines="1" declaredvars="historialEjeY"></mutation><next><block type="typescript_statement" id="tRBLHO%Ai4i{A:WZ_+Ir"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let historialPot: number[] = []" numlines="1" declaredvars="historialPot"></mutation><comment pinned="false" h="80" w="160">Variables para el filtro de promedio móvil</comment><next><block type="variables_set" id="^,0@xA|k)mYDh}7OQ}-P"><field name="VAR" id="/ga:%3e9/X.b@,?M$No7">anguloGrúa</field><value name="VALUE"><shadow type="math_number" id=".8f,W!m.2jGANLV(,~b]"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="gG?7V4CK59+z%iIzQd@t"><field name="VAR" id="x8,3:G|.58Fa$rLM(r1#">anguloRotacion</field><value name="VALUE"><shadow type="math_number" id="Bn(hIBQbCo)F{Vm~IwQy"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="23gvT^cVFu|AK^tO|*15"><field name="VAR" id="b%KHry]Ld;v?Gh^t[m5A">anguloGrúaActual</field><comment pinned="false" h="80" w="160">Ángulos actuales que se irán actualizando suavemente</comment><value name="VALUE"><shadow type="math_number" id="Ebz0}*66zQbw*4gWgK%/"><field name="NUM">0</field></shadow><block type="variables_get" id="ciwu{MBkaB/:IxjHZoNQ"><field name="VAR" id="/ga:%3e9/X.b@,?M$No7">anguloGrúa</field></block></value><next><block type="variables_set" id="@.#?WB8|[7wsMmHug|e_"><field name="VAR" id="fTvhh~=2Y@q_QSpa0Q~|">anguloRotacionActual</field><value name="VALUE"><shadow type="math_number" id="d5B(zUSk5zm6sRaUTAD{"><field name="NUM">0</field></shadow><block type="variables_get" id="~?QvjH1WK;};;Od0gjbz"><field name="VAR" id="x8,3:G|.58Fa$rLM(r1#">anguloRotacion</field></block></value><next><block type="variables_set" id="|)5x{Q)!~D%L{twkzCVP"><field name="VAR" id="e0hN@etgbD;HVu|a?7=A">TAMANO_BUFFER</field><comment pinned="false" h="80" w="160">Ajusta para mayor suavizado (más grande = más suave)</comment><value name="VALUE"><shadow type="math_number" id="]n.tG9T_Q*4$5L`xDHtw"><field name="NUM">5</field></shadow></value><next><block type="makerbit_lcd_set_address" id="DV`a9GMMjri;_uM1qa!^"><value name="i2cAddress"><shadow type="math_number_minmax" id=":fUe*hZbf/v{G@;fCtH}"><mutation min="0" max="127" precision="0"></mutation><field name="SLIDER">39</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="device_forever" id="_yLV~s3du:-*y9ez@SK," x="533" y="0"><statement name="HANDLER"><block type="variables_set" id="aHH:nhHamy7v;mcYdOf5"><field name="VAR" id="ZA06xdS_f_MRBxS=P%$x">valorPot</field><comment pinned="false" h="80" w="160">--- Leer potenciómetro con suavizado ---</comment><value name="VALUE"><shadow type="math_number" id="%A^[GS.`g+;:JrUsjOe8"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="/=h:l-IcS5CXx4/U.eT+"><value name="name"><shadow type="analog_read_write_pin_shadow" id="+i:S;~}0;{-%n:|ILD.."><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="KC,{kA;AgTMWOn^qCF_T"><field name="pin">AnalogPin.P2</field></block></value></block></value><next><block type="array_push" id="GpUH5yixdT-4]|:$S(Vp"><value name="list"><block type="variables_get" id="D?*T7|,RQ|sX;RR1DmEc"><field name="VAR" id="|2q8sDmwjzu0fZ#GD7iH">historialPot</field></block></value><value name="value"><block type="variables_get" id=":##+C;n:t%IipJs/2cjk"><field name="VAR" id="ZA06xdS_f_MRBxS=P%$x">valorPot</field></block></value><next><block type="controls_if" id="*:s#FLmFCZKL1`UxG]mH"><value name="IF0"><shadow type="logic_boolean" id=";_E*NQ*_JYZFmR?3:^(P"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="ulS./LUlIzjTf80nB3Y!"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="^QG^r)lmd.01GWuWR;?y"><field name="NUM">0</field></shadow><block type="lists_length" id="]4dQ8Xu?!/*f$vzT6Jg/"><value name="VALUE"><block type="variables_get" id="1Q/)./42!]G3piZp2He("><field name="VAR" id="|2q8sDmwjzu0fZ#GD7iH">historialPot</field></block></value></block></value><value name="B"><shadow type="math_number" id="y8y=@.9v+?ZdCnOWpf_m"><field name="NUM">0</field></shadow><block type="variables_get" id="iFcu0~HGL0])ewaYDz_9"><field name="VAR" id="e0hN@etgbD;HVu|a?7=A">TAMANO_BUFFER</field></block></value></block></value><statement name="DO0"><block type="array_shift_statement" id="yyN6rfug=QOpO2~}U9ZC"><value name="list"><block type="variables_get" id="0ccf06=a7ogqqJ{Iy5nI"><field name="VAR" id="|2q8sDmwjzu0fZ#GD7iH">historialPot</field></block></value></block></statement><next><block type="variables_set" id="jG_N3;FeMz(WEG3ud%BN"><field name="VAR" id="Lb2pieUg#iB~_!mA0b]u">promedioPot</field><value name="VALUE"><shadow type="math_number" id="`siVTq,_?%@JIy0-b}am"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Onz)`:K96VAfW#9)pjcR"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="Q#B%/vu#$#={YJ})]q/F"><field name="NUM">0</field></shadow><block type="typescript_expression" id="Of{vzA_1O3C*P~Axj2v1"><field name="EXPRESSION">historialPot.reduce((sum, val) =&gt; sum + val, 0)</field></block></value><value name="B"><shadow type="math_number" id="9)7^3jJKmCy1(XkPMXRu"><field name="NUM">0</field></shadow><block type="lists_length" id=".mXv=_l7Mu6*OXt_U4fd"><value name="VALUE"><block type="variables_get" id="|ke6^dl|mKeNXgX,^Ptg"><field name="VAR" id="|2q8sDmwjzu0fZ#GD7iH">historialPot</field></block></value></block></value></block></value><next><block type="variables_set" id="k8A{UaFxh42Q9ZM29NsC"><field name="VAR" id="Lb2pieUg#iB~_!mA0b]u">promedioPot</field><value name="VALUE"><shadow type="math_number" id="TAS0-:q@C([T+;5qTQ.2"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="=6y4Rp1v3IQJ19BxYUU/"><value name="value"><block type="variables_get" id=";+q92.n[g5bcN_eP]bbX"><field name="VAR" id="Lb2pieUg#iB~_!mA0b]u">promedioPot</field></block></value><value name="low"><shadow type="math_number" id="hgt^}ktMYqCrE{.w6)tK"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="r01#fv?MT8Wt@43AdQ2A"><field name="NUM">1023</field></shadow></value></block></value><next><block type="variables_set" id="$eMuB6rL~)QoGN=6bqRS"><field name="VAR" id="c?hKRp==#[5/mNJQ,*:N">anguloRotacionDeseado</field><value name="VALUE"><shadow type="math_number" id="}=THk[jr,3?AHEK8sYDq"><field name="NUM">0</field></shadow><block type="math_map" id="P#e2%AC)^X`xWzz2`$N;"><value name="value"><block type="variables_get" id=".Pp7K7A9nXyhImp=uzUk"><field name="VAR" id="Lb2pieUg#iB~_!mA0b]u">promedioPot</field></block></value><value name="fromLow"><shadow type="math_number" id="c$cAwn#AE0]=|k1-R:?0"><field name="NUM">0</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="=TH;d:cZ5B*:k2+TX+)j"><field name="NUM">1023</field></shadow></value><value name="toLow"><shadow type="math_number" id="(uTH=iE:7j6U9l.ZKO-a"><field name="NUM">180</field></shadow></value><value name="toHigh"><shadow type="math_number" id="z@5-}Q.KOH^:Ln]%b^]e"><field name="NUM">0</field></shadow></value></block></value><next><block type="variables_set" id="vI,Ka*9D]=NM3mZ0mW:="><field name="VAR" id="c?hKRp==#[5/mNJQ,*:N">anguloRotacionDeseado</field><value name="VALUE"><shadow type="math_number" id="05N(=lY3wYv)ujEaz8|,"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="a-,/f?GPQT3J*|K6v5Pm"><value name="value"><block type="variables_get" id="AXKF6wVm]BEp8{w%]!;e"><field name="VAR" id="c?hKRp==#[5/mNJQ,*:N">anguloRotacionDeseado</field></block></value><value name="low"><shadow type="math_number" id="s|OiOpxY4FCi(~JbaCJz"><field name="NUM">0</field></shadow></value><value name="high"><shadow type="math_number" id="KuPNh$l9zA4uW/PvpiAd"><field name="NUM">180</field></shadow></value></block></value><next><block type="variables_set" id="#3,DMZc#P_0#jb07-U6x"><field name="VAR" id="G4T/ywmd*!WaCb$8fi{h">ejeY</field><comment pinned="false" h="80" w="160">--- Leer joystick eje Y con suavizado ---</comment><value name="VALUE"><shadow type="math_number" id="%n/;AiT,.X:UJEADBBq%"><field name="NUM">0</field></shadow><block type="device_get_analog_pin" id="q*1Zt#e@h04!Ud$BC#F]"><value name="name"><shadow type="analog_read_write_pin_shadow" id="51a[Mhx.Kob_nZ}{9:jD"><field name="pin">AnalogReadWritePin.P0</field></shadow><block type="analog_pin" id="R,}%Gd^KkU_tGscP$Aav"><field name="pin">AnalogPin.P3</field></block></value></block></value><next><block type="array_push" id="Yc^d@e0}0v=B,KY/NhoI"><value name="list"><block type="variables_get" id=".Z9q$g!%)fe*Am=!nus0"><field name="VAR" id="p8utKxbq.}Bs+-eIG(?)">historialEjeY</field></block></value><value name="value"><block type="variables_get" id="gS5Uy!rcgv9Rga*!R/%+"><field name="VAR" id="G4T/ywmd*!WaCb$8fi{h">ejeY</field></block></value><next><block type="controls_if" id=".WAAEr[a7id1iAF4E_:_"><value name="IF0"><shadow type="logic_boolean" id="EL[|WSZ@t~t4|A|-(=US"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="7RkHcmhfge4gqJCbQ;JN"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="=SqOxhP[zU2L6M$R]T*}"><field name="NUM">0</field></shadow><block type="lists_length" id="!$#d%RuaBg|0M~ljVg!;"><value name="VALUE"><block type="variables_get" id="}%3{!wk0HSzNC^l(zS-?"><field name="VAR" id="p8utKxbq.}Bs+-eIG(?)">historialEjeY</field></block></value></block></value><value name="B"><shadow type="math_number" id="jWASg?(IN3A87yBSx16+"><field name="NUM">0</field></shadow><block type="variables_get" id="GO=etdizl+v=;t*LVsoO"><field name="VAR" id="e0hN@etgbD;HVu|a?7=A">TAMANO_BUFFER</field></block></value></block></value><statement name="DO0"><block type="array_shift_statement" id="hfO;]r6ovLs}s7.Z!-!y"><value name="list"><block type="variables_get" id="X`h%xu%G{rfk?Q/m=/XP"><field name="VAR" id="p8utKxbq.}Bs+-eIG(?)">historialEjeY</field></block></value></block></statement><next><block type="variables_set" id="D!IL]Gg#/a}2%[N.b4G4"><field name="VAR" id="Vt.E`h?[h`Kb/PY^ux56">promedioEjeY</field><value name="VALUE"><shadow type="math_number" id="O]ov`etzmV@y=z}A#Y@e"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="3M2|6ysv,($PE@!J#0u:"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="yVA=qX=S($$i$-|67vBS"><field name="NUM">0</field></shadow><block type="typescript_expression" id="~dEP?U0pI)O];46@9/?e"><field name="EXPRESSION">historialEjeY.reduce((sum, val) =&gt; sum + val, 0)</field></block></value><value name="B"><shadow type="math_number" id="PZ$+.F?-.@!u__xG(?`P"><field name="NUM">0</field></shadow><block type="lists_length" id="^s0EJ?mJ9aKFlYOF1TFV"><value name="VALUE"><block type="variables_get" id="hbl24N2xS_?Z4{O=Z#bd"><field name="VAR" id="p8utKxbq.}Bs+-eIG(?)">historialEjeY</field></block></value></block></value></block></value><next><block type="typescript_statement" id="0#P/E}$csJ}j_;uy!u1-"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let anguloGrúaDeseado: number" numlines="1" declaredvars="anguloGrúaDeseado"></mutation><next><block type="controls_if" id="(/d%@O+cNh!d{t2F|eGP"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="Q)d1x-|i~dWh,v{u#9cV"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="|(XGVb+ug4:LX7ZFsmf+"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean" id="yTL=o`@k|#QK$E{rUy?j"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+kiDgVXh(3ea1+~o|X6|"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="5WZ[N3-{e6jA#Hk6ZLpI"><field name="NUM">0</field></shadow><block type="variables_get" id="oHO~Vlv5OK(RI~[$jrwd"><field name="VAR" id="Vt.E`h?[h`Kb/PY^ux56">promedioEjeY</field></block></value><value name="B"><shadow type="math_number" id="ms4nPg5##fn{0Mq+4FJL"><field name="NUM">700</field></shadow></value></block></value><value name="B"><shadow type="logic_boolean" id="E-yK9-zv(a2eax)3Lxyn"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="*%,%WPPX)umTFGeEs|3H"><field name="OP">LT</field><value name="A"><shadow type="math_number" id="~c7CW;S|.$+XYhi,HHED"><field name="NUM">0</field></shadow><block type="variables_get" id="WYS2gv5~bkQrm1bH`)i5"><field name="VAR" id="Vt.E`h?[h`Kb/PY^ux56">promedioEjeY</field></block></value><value name="B"><shadow type="math_number" id="rBctJtt{)mTaM#80it.X"><field name="NUM">800</field></shadow></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="2I$M`ZF~P!rbPC2x^Zn3"><field name="VAR" id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</field><value name="VALUE"><shadow type="math_number" id="i1EC$k4vN=Z/}/[^]eHz"><field name="NUM">90</field></shadow></value></block></statement><statement name="ELSE"><block type="variables_set" id="kkg1@hT^c:CYGSNL7?xd"><field name="VAR" id=":=+.a^7A-~;ad;#;0:oq">ejeFiltrado</field><value name="VALUE"><shadow type="math_number" id="+T(THrfUO5U3_6D+#qr9"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="vgE`lv*6Dj=*^~l6G1Je"><value name="value"><block type="variables_get" id="2X109vVG},-P#q;*$nC;"><field name="VAR" id="Vt.E`h?[h`Kb/PY^ux56">promedioEjeY</field></block></value><value name="low"><shadow type="math_number" id="%@i#4%IDnxWadpV7a:YW"><field name="NUM">400</field></shadow></value><value name="high"><shadow type="math_number" id="xU0)gfQsje#*#eaJg+Im"><field name="NUM">850</field></shadow></value></block></value><next><block type="variables_set" id="VlqSr0=YKUkSsns2eB_v"><field name="VAR" id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</field><value name="VALUE"><shadow type="math_number" id="w7*Z$KK=@b1XO~=fO5:b"><field name="NUM">0</field></shadow><block type="math_map" id="ammK$tkO(2C@$[XdCMO#"><value name="value"><block type="variables_get" id="*:m9cI~:toFDRm}Gf4!7"><field name="VAR" id=":=+.a^7A-~;ad;#;0:oq">ejeFiltrado</field></block></value><value name="fromLow"><shadow type="math_number" id="ZVnT%p=l]]mGPQrG5rJX"><field name="NUM">400</field></shadow></value><value name="fromHigh"><shadow type="math_number" id="i|y~x?(g[7N:oj0kkFAS"><field name="NUM">850</field></shadow></value><value name="toLow"><shadow type="math_number" id="pPko[~,uAa9AUHs$-Oj("><field name="NUM">130</field></shadow></value><value name="toHigh"><shadow type="math_number" id="u{*1Kg%{J.Lj?Q|w!W+W"><field name="NUM">50</field></shadow></value></block></value><next><block type="variables_set" id="IY$GD7l^t(0z//]Rs3ZB"><field name="VAR" id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</field><value name="VALUE"><shadow type="math_number" id="|yKhKJmxNhaqG_)rs9cc"><field name="NUM">0</field></shadow><block type="math_constrain_value" id="+N5gdL94@G[J+ksl4!v/"><value name="value"><block type="variables_get" id="F.,2hCYOvPL{a!/[ygy`"><field name="VAR" id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</field></block></value><value name="low"><shadow type="math_number" id="8p6jX,)FoC{835:YA{]%"><field name="NUM">50</field></shadow></value><value name="high"><shadow type="math_number" id="S1s]q6(=itk.}Yru0k[s"><field name="NUM">130</field></shadow></value></block></value></block></next></block></next></block></statement><next><block type="variables_set" id=")pKYG~mrip%$P`t8=rX0"><field name="VAR" id="Ma@tf0FZX|J1/)-k9{Sq">paso</field><comment pinned="false" h="80" w="160">--- Suavizar movimiento de los servos (cambiar 5 grados por ciclo, más rápido) ---</comment><value name="VALUE"><shadow type="math_number" id="QRofsIRe[X95)iVH-v/6"><field name="NUM">5</field></shadow></value><next><block type="variables_set" id="nsT+k0R67-#ApaKdK$r0"><field name="VAR" id="fTvhh~=2Y@q_QSpa0Q~|">anguloRotacionActual</field><value name="VALUE"><shadow type="math_number" id="F3I-M:^VEaWsz(B]s6^6"><field name="NUM">0</field></shadow><block type="function_call_output" id=",@7$T})oqZ/IygdT(LoG"><mutation name="moverSuave" functionid="fjNY/llRnL*WzBlKO|Y+"><arg name="actual" id="2y2q4ac9r457g0xkqu06" type="number"></arg><arg name="destino" id="pmq7gpl6nor4knkonpumsj" type="number"></arg><arg name="step" id="11t49n6774pl7yhif9v1gy" type="number"></arg></mutation><value name="2y2q4ac9r457g0xkqu06"><shadow type="math_number" id=")cVts0^rsrT3$^$|5WT}"><field name="NUM">1</field></shadow><block type="variables_get" id="JAbqt1Zh5iW+/}sAJs|I"><field name="VAR" id="fTvhh~=2Y@q_QSpa0Q~|">anguloRotacionActual</field></block></value><value name="pmq7gpl6nor4knkonpumsj"><shadow type="math_number" id="BS^xcwz7t)jol|wi,7g."><field name="NUM">1</field></shadow><block type="variables_get" id="jg{?eJf1LsQxn(FeG6UO"><field name="VAR" id="c?hKRp==#[5/mNJQ,*:N">anguloRotacionDeseado</field></block></value><value name="11t49n6774pl7yhif9v1gy"><shadow type="math_number" id="62?a=_d^-[:S/OjcB1Fd"><field name="NUM">1</field></shadow><block type="variables_get" id="ENI@v!{GMKxG%WN_BLnZ"><field name="VAR" id="Ma@tf0FZX|J1/)-k9{Sq">paso</field></block></value></block></value><next><block type="variables_set" id="qqU+:Fx*W{-QV2(srFAE"><field name="VAR" id="b%KHry]Ld;v?Gh^t[m5A">anguloGrúaActual</field><value name="VALUE"><shadow type="math_number" id="fONDy+lQby,u|^9awjs7"><field name="NUM">0</field></shadow><block type="function_call_output" id="G5r2+w|1|EIEsh~ys3xW"><mutation name="moverSuave" functionid="fjNY/llRnL*WzBlKO|Y+"><arg name="actual" id="2y2q4ac9r457g0xkqu06" type="number"></arg><arg name="destino" id="pmq7gpl6nor4knkonpumsj" type="number"></arg><arg name="step" id="11t49n6774pl7yhif9v1gy" type="number"></arg></mutation><value name="2y2q4ac9r457g0xkqu06"><shadow type="math_number" id="XP^7Fo+n}+FxM5b/o/aG"><field name="NUM">1</field></shadow><block type="variables_get" id="qTi)4,,Qa:#:TzqEsVo0"><field name="VAR" id="b%KHry]Ld;v?Gh^t[m5A">anguloGrúaActual</field></block></value><value name="pmq7gpl6nor4knkonpumsj"><shadow type="math_number" id="DTiXA;w?Q-ko.EmytQlo"><field name="NUM">1</field></shadow><block type="variables_get" id="l}$N2|VN4pYb2V$rbO{q"><field name="VAR" id="9]qDW@)(pECDYEr*w[sa">anguloGrúaDeseado</field></block></value><value name="11t49n6774pl7yhif9v1gy"><shadow type="math_number" id="VcC(^XB#lA@3()Y:[Q@w"><field name="NUM">1</field></shadow><block type="variables_get" id="cbWAERt/q}+/prVbuV(8"><field name="VAR" id="Ma@tf0FZX|J1/)-k9{Sq">paso</field></block></value></block></value><next><block type="device_set_servo_pin" id="ZD9(t};t]PW5!1?j,?ve"><comment pinned="false" h="80" w="160">Enviar posición suavizada a servos</comment><value name="name"><shadow type="analog_pin_shadow" id="{nP7|ph~,KONddAW-r3H"><field name="pin">AnalogPin.P1</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="4s)7d.Ft8_9hL;c+d|.w"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="#I]3L]C{{@fO0*._J52j"><field name="VAR" id="fTvhh~=2Y@q_QSpa0Q~|">anguloRotacionActual</field></block></value><next><block type="device_set_servo_pin" id="dzx}T`}0CsP{!E12U6iQ"><value name="name"><shadow type="analog_pin_shadow" id="LJ%}.B4ZKWePCD,c*=yl"><field name="pin">AnalogPin.P0</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="x_0FbBIkb!sGH*_Y:88N"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="iW#8{:Em_oD$6Ecpt8Gw"><field name="VAR" id="b%KHry]Ld;v?Gh^t[m5A">anguloGrúaActual</field></block></value><next><block type="makerbit_lcd_show_string_on_1602" id="6{N{+;YE8H_B,(rZUkUF"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><comment pinned="false" h="80" w="160">Mostrar valores (puedes mostrar los valores actuales o los promedios)</comment><value name="text"><shadow type="text" id="PeX[)DmdxnKpcaN[Tts^"><field name="TEXT">JoyY:</field></shadow></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="P2|w-95KLS|4*k)ZUS[?"><field name="pos">LcdPosition1602.Pos1</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="IV80(f|QWQ|vI??(c+$}"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="tvSa}kyG)v;g|3|(){Dj"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="dM!d2myoP*J{{a*!LPPU"><field name="TEXT"></field></shadow><block type="variables_get" id=",9,CQmtyylECqyfqn{hI"><field name="VAR" id="G4T/ywmd*!WaCb$8fi{h">ejeY</field></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="Y,UX!TeSBF;=kdIo6)p3"><field name="pos">LcdPosition1602.Pos6</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="ch;9Mljs}*{p:iA`pJ`!"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="k[i6ophgDew1AQLp%/}}"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="7-0RX}Vc0;tdJcKM~f~X"><field name="TEXT">Pot:</field></shadow></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="BA(zd3TJ`I2a=,sP^fV]"><field name="pos">LcdPosition1602.Pos17</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="^^E/JgFp6fIuU3h1sS]/"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="makerbit_lcd_show_string_on_1602" id="n{m0A^ubChHWtC5yP}Dt"><mutation xmlns="http://www.w3.org/1999/xhtml" _expanded="0" _input_init="true"></mutation><field name="option">TextOption.AlignLeft</field><value name="text"><shadow type="text" id="BPYkW58de,R{BFYT@]|0"><field name="TEXT"></field></shadow><block type="variables_get" id="BYxeoAT_8V4e2PtCbbvv"><field name="VAR" id="ZA06xdS_f_MRBxS=P%$x">valorPot</field></block></value><value name="startPosition"><shadow type="makerbit_lcd_position_1602" id="N{h2r[U|`_zkjkD/0OL_"><field name="pos">LcdPosition1602.Pos22</field></shadow></value><value name="length"><shadow type="math_number_minmax" id="S|9W^Oce.$bqb/Z-qKSq"><mutation min="1" max="32" precision="0"></mutation><field name="SLIDER">16</field></shadow></value><next><block type="device_pause" id="2]cfYLa%,SsEH6X}4,4K"><comment pinned="false" h="80" w="160">Velocidad del movimiento suavizado</comment><value name="pause"><shadow type="timePicker" id="s[e^_kr_O|]3Uy+4)4HX"><field name="ms">15</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="F7azYlMbgalb0$]A}r}`" x="1704" y="0"><mutation name="moverSuave" functionid="fjNY/llRnL*WzBlKO|Y+"><arg name="actual" id="2y2q4ac9r457g0xkqu06" type="number"></arg><arg name="destino" id="pmq7gpl6nor4knkonpumsj" type="number"></arg><arg name="step" id="11t49n6774pl7yhif9v1gy" type="number"></arg></mutation><field name="function_name">moverSuave</field><comment pinned="false" h="80" w="160">Función que mueve un valor actual hacia un valor destino de a un paso (step)</comment><value name="2y2q4ac9r457g0xkqu06"><block type="argument_reporter_number" id="XqmILpVJm%*%uY5Xf5e{"><mutation duplicateondrag="true"></mutation><field name="VALUE">actual</field></block></value><value name="pmq7gpl6nor4knkonpumsj"><block type="argument_reporter_number" id="xG}}#fyR,7#zYrYX]1JZ"><mutation duplicateondrag="true"></mutation><field name="VALUE">destino</field></block></value><value name="11t49n6774pl7yhif9v1gy"><block type="argument_reporter_number" id="(yKE4)0ThpwU=lGU(?`6"><mutation duplicateondrag="true"></mutation><field name="VALUE">step</field></block></value><statement name="STACK"><block type="controls_if" id="MIrjS+gr8X;0xBoWMk$-"><mutation elseif="1" else="1"></mutation><value name="IF0"><shadow type="logic_boolean" id="[aVKCnC-7uSo4)BC.o`M"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="np3wRKgT(+GTNG8Qz]hr"><field name="OP">LTE</field><value name="A"><shadow type="math_number" id="u1/1d^s{R%Eb_kdDF+Mz"><field name="NUM">0</field></shadow><block type="math_op3" id="2Jn$zjHKI6PBq${dFZ:p"><value name="x"><block type="math_arithmetic" id="dAd1,VzBv2NWP%kLmlG?"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="%xX|8rOejlA-){M_|p[;"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="~fxz|kjg}4MP/|H20)fY"><field name="VALUE">destino</field></block></value><value name="B"><shadow type="math_number" id="Jd%;Gi4huQ8c)UaqL(v0"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="xc.w*-lUT9+z//4YklV/"><field name="VALUE">actual</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="]L=fC5q{1?ZyF!Z$jKDE"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="P%aAp:i`@L28d;[EG{6:"><field name="VALUE">step</field></block></value></block></value><statement name="DO0"><block type="function_return" id="of%q^Qe(-y?B]$$4*GI+"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="Un_wN1#D!WoVRcx^F9:L"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="8[2M+$qED@#uuQCWSb^S"><field name="VALUE">destino</field></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="/*z?R5q7iCQ)R_e^=(;R"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=",JyY2?DQ.!4SrM:715fi"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="^U:fnJ8/Uf@a8I^+c:Lo"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="X4Z:mj(kbGI#=N~{_$vU"><field name="VALUE">destino</field></block></value><value name="B"><shadow type="math_number" id="*7`uM8rjMX%;J{EZ+B09"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id=",$AY35!K!m{rW_iSYd??"><field name="VALUE">actual</field></block></value></block></value><statement name="DO1"><block type="function_return" id="rkAOrYjoElSRZ0s`G{uS"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="OC:kHY$xtoYT:Gf@P#l7"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="mm]hQ|sp51#6}L1Xots4"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="Y3=8$yt9T6rsFbG)4ZjT"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="iwwKAgJX-kh{dL1M`C~M"><field name="VALUE">actual</field></block></value><value name="B"><shadow type="math_number" id="|#=uruJmA5gzrO`^5*lx"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="iLJ}T%xv_f`toecY(/t7"><field name="VALUE">step</field></block></value></block></value></block></statement><statement name="ELSE"><block type="function_return" id="Z7fp?/}e|fDoS5Qf6^x1"><mutation xmlns="http://www.w3.org/1999/xhtml" no_return_value="false"></mutation><value name="RETURN_VALUE"><shadow type="math_number" id="0N:qVJV6KQ,B0X`3}rJ_"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="VCBbG5erH#A*7}!v!L6["><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="vXO+(Q8hVc1Iub+KwlQl"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="bZ_,k0cL^P=d)j,T7T)F"><field name="VALUE">actual</field></block></value><value name="B"><shadow type="math_number" id="FxmovRw!e5uvoL$ORKv-"><field name="NUM">0</field></shadow><block type="argument_reporter_number" id="Rt_HFgE/Ec.[2Ap[~2nR"><field name="VALUE">step</field></block></value></block></value></block></statement></block></statement></block></xml>